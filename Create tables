CREATE TABLE users (
    id INTEGER NOT NULL,
    username TEXT NOT NULL,
    hash TEXT NOT NULL,
    firstname TEXT NOT NULL,
    lastname TEXT NOT NULL,
    PRIMARY KEY(id)
);

CREATE TABLE competitions (
    id INTEGER NOT NULL,
    name TEXT NOT NULL,
    format TEXT NOT NULL,
    PRIMARY KEY(id)
);

CREATE TABLE competitors (
    competitor_id INTEGER NOT NULL,
    competition_id INTEGER NOT NULL,
    division_id INTEGER NOT NULL,
    FOREIGN KEY(competitor_id) REFERENCES users(id),
    FOREIGN KEY(competition_id) REFERENCES competitions(id),
    FOREIGN KEY(division_id) REFERENCES divisions(id)
);

CREATE TABLE divisions (
    id INTEGER NOT NULL,
    name TEXT NOT NULL,
    comp_id INTEGER NOT NULL,
    PRIMARY KEY(id),
    FOREIGN KEY(comp_id) REFERENCES competitions(id)
);


