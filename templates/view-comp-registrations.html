{% extends "layout.html" %}

{% block title %}
    View Registrations
{% endblock %}

{% block main %}
<h1>{{ compname | capitalize }}</h1>
{% for division in divisions %}
<table class="table table-dark table-striped">
    <thead>
        <tr>
            <th>{{ division }}</th>
        </tr>
    </thead> 
    <tbody>
        {% set list1 = divisions[division] %}
        {% for elem in list1 %}
        <tr>
            <td>{{ elem }}</td>
        </tr>
        {% endfor %}    
    </tbody>
</table>
{% endfor %}
<h2>{{ compname }} Brackets</h2>

<table class="table table-dark table-striped">
  <thead>
      <tr>
          <th>Division</th>
          <th>Competitor One</th>
          <th>Competitor Two</th>
      </tr>
  </thead> 
  <tbody>
    {% for match in matches %}
      <tr>
          <td>{{ match['div_name'] }}</td>
          <td>{{ match['competitor1_name'] }}</td>
          <td>{{ match['competitor2_name'] }}</td>
          <td>
            <div class="d-flex flex-row mb-3">
            <form action="/match/{{match['id']}}" method="post">
              <button type="submit" class="btn btn-primary">Start Match</button>
            </form>
            </div>
        </td>
      </tr>  
      {% endfor %}  
  </tbody>
</table> 
{% endblock %}